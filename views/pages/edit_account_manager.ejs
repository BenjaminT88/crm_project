<!DOCTYPE html>
<html lang="en">
<head>
	<% include ../partials/head %>

	<% include ../partials/style_edit_account_user %>

	
</head>

<body id="LoginForm">
		<header>
			<% include ../partials/header %>
			
		</header>
	
	<div class="container">
		<div class="signUp-form">
			<div class="main-div">
				<div class="panel">
			   		<h2>Edit Account</h2>
			   		<p>* fields are required</p>
				</div>
				

				<form id="update" method="POST" action="">
					<div class="row form-group">
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">First Name:</label>
							<input class="form-control" id="firstname" name="first_name" placeholder="First Name" type="text"
								required autofocus/>
						</div>
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">Last Name:</label>
							<input class="form-control" id="lastname" name="last_name" placeholder="Last Name" type="text" required/>
						</div>
					</div>
					<div class="row form-group">
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">Email:</label>
							<input type="email" id="email" name="email" class="form-control" placeholder="Email Address">
						</div>
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">Company:</label>
							<input type="text" id="company" name="company" class="form-control" placeholder="Company">
						</div>
					</div>
					<div class="form-group">
							<label class="label_editpage">Address:</label>
							<input type="text" id="address" name="address" class="form-control" placeholder="Address">
					</div>
					<div class="row form-group">
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">City:</label>
							<input type="text" id="city" name="city" class="form-control" placeholder="City"/>
						</div>
						<div class="col col-lg-2">
							<label class="label_editpage">State:</label>
							<input type="text" id="state" name="state" class="form-control" placeholder="State"/>
						</div>
						<div class="col-xs-4 col-md-4">
							<label class="label_editpage">ZIP:</label>
							<input type="text" id="zip" name="zip" class="form-control" placeholder="ZIP"/>
						</div>
					</div>
					<div class="row form-group">
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">Phone:</label>
							<input type="tel" id="phone" name="phone" class="form-control" placeholder="Phone"/>
						</div>
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">Cell:</label>
							<input type="tel" id="cell" name="cell" class="form-control" placeholder="Cell" />
						</div>
					</div>
					<div class="row form-group">
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">Annual Revenue:</label>
							<input type="text" id="annual_revenue" name="annual_revenue" class="form-control" placeholder="Annual Revenue"/>
						</div>
						<div class="col-xs-6 col-md-6">
							<label class="label_editpage">User ID:</label>
							<input type="text" id="user_id" name="user_id" class="form-control" placeholder="User ID"/>
						</div>
					</div>
					<div class="row form-group">
						<div class="col-xs-6 col-md-6">
							
						</div>

						<div class="col-xs-3 col-md-3">
							<button type="submit" class="btn btn-outline-warning btn-sm">Update</button>
						</div>
				
						<div class="col-xs-3 col-md-3">	
							<form method="GET" action="/main_manager">
								<button type="submit" class="btn btn-outline-secondary btn-sm">Cancel</button>
							</form>
						</div>
					</div>
				</form>	
			</div>
		</div>
	</div>
	<form id="delete" method="POST" action="">
			<button class="delete" type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
		</form>
<script>
	$("input[required]").parent("div").addClass("required");
</script>
	
<script type="text/javascript">
	var id = window.location.href.split('/manager/edit/')[1];

	$.ajax({
		url: '/accountjson/' + id,
		method: 'GET'
	}).then(function(data){

		$('#firstname').val(data.first_name);
		$('#lastname').val(data.last_name);
		$('#email').val(data.email);
		$('#company').val(data.company);
		$('#address').val(data.address);
		$('#city').val(data.city);
		$('#state').val(data.state);
		$('#zip').val(data.zip);
		$('#phone').val(data.phone);
		$('#cell').val(data.cell);
		$('#annual_revenue').val(data.annual_revenue);
		$('#user_id').val(data.user_id);

		$('#update').attr('action', '/manager/update/' + id);
		$('#delete').attr('action', '/delete/' + id);

		console.log(data);
	});
</script>
</body>
</html>